<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>Verify Your Email Contact List | Email Validator - Fast & Accurate Email Verification</title>
    <meta name="title" content="Verify Your Email Contact List | Email Validator - Fast & Accurate Email Verification">
    <meta name="description" content="Verify email addresses in your contact list instantly. Our email validator checks individual email addresses to ensure they are legitimate and deliverable. Free CSV upload.">
    <meta name="keywords" content="email validator, email verification, verify email addresses, email list verification, bulk email validator, CSV email verification, email validation tool, check email validity, email address checker, contact list verification">
    <meta name="author" content="PATTENS">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://email-validator.pattens.tech">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://email-validator.pattens.tech">
    <meta property="og:title" content="Verify Your Email Contact List | Email Validator">
    <meta property="og:description" content="Verify email addresses in your contact list instantly. Our email validator checks individual email addresses to ensure they are legitimate and deliverable.">
    <meta property="og:image" content="https://email-validator.pattens.tech/assets/og-image.jpg">
    <meta property="og:site_name" content="Email Validator">
    <meta property="og:locale" content="en_US">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://email-validator.pattens.tech">
    <meta property="twitter:title" content="Verify Your Email Contact List | Email Validator">
    <meta property="twitter:description" content="Verify email addresses in your contact list instantly. Our email validator checks individual email addresses to ensure they are legitimate and deliverable.">
    <meta property="twitter:image" content="https://email-validator.pattens.tech/assets/twitter-card.jpg">
    <meta name="twitter:creator" content="@pattens-tech">
    <meta name="twitter:site" content="@pattens-tech">

    <!-- Additional SEO -->
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">

    <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="assets/pattens-logo.svg">
<link rel="icon" type="image/png" sizes="32x32" href="assets/pattens-logo.png">
<link rel="apple-touch-icon" href="assets/pattens-logo.png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>

    <style>
        :root {
            --gradient-background-start: #0f172a;
            --gradient-background-end: #1e293b;
            --first-color: 59, 130, 246;
            --second-color: 139, 92, 246;
            --third-color: 236, 72, 153;
            --fourth-color: 249, 115, 22;
            --fifth-color: 16, 185, 129;
            --size: 80%;
            --blending-value: hard-light;
        }

        /* Gradient Animation Keyframes */
        @keyframes first {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(-25%, 25%) scale(1.1); }
            50% { transform: translate(25%, 25%) scale(0.9); }
            75% { transform: translate(-25%, -25%) scale(1.05); }
        }

        @keyframes second {
            0%, 100% { transform: translate(0, 0) rotate(0deg) scale(1); }
            25% { transform: translate(30%, -30%) rotate(90deg) scale(1.1); }
            50% { transform: translate(-30%, 30%) rotate(180deg) scale(0.9); }
            75% { transform: translate(30%, 30%) rotate(270deg) scale(1.05); }
        }

        @keyframes third {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(40%, 20%) scale(1.15); }
            66% { transform: translate(-40%, -20%) scale(0.85); }
        }

        @keyframes fourth {
            0%, 100% { transform: translate(0, 0) scale(1); }
            20% { transform: translate(-35%, -35%) scale(1.1); }
            40% { transform: translate(35%, -35%) scale(0.95); }
            60% { transform: translate(-35%, 35%) scale(1.05); }
            80% { transform: translate(35%, 35%) scale(0.9); }
        }

        @keyframes fifth {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(-50%, 50%) rotate(180deg); }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .animate-first { animation: first 20s ease-in-out infinite; }
        .animate-second { animation: second 25s ease-in-out infinite; }
        .animate-third { animation: third 30s ease-in-out infinite; }
        .animate-fourth { animation: fourth 35s ease-in-out infinite; }
        .animate-fifth { animation: fifth 40s linear infinite; }

        .gradients-container {
            filter: url(#blurMe) blur(40px);
        }

        .hero-section.hiding {
            opacity: 0;
            transform: translateY(-20px);
        }

        .upload-section {
            opacity: 0;
            transform: translateY(20px);
            pointer-events: none;
        }

        .upload-section.visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }

        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            width: 48px;
            height: 48px;
            animation: spin 1s linear infinite;
        }
    </style>

    <!-- Schema.org Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Email Validator",
        "description": "Verify email addresses in your contact list instantly. Our email validator checks individual email addresses to ensure they are legitimate and deliverable.",
        "url": "https://email-validator.pattens.tech",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "creator": {
            "@type": "Organization",
            "name": "PATTENS",
            "url": "https://github.com/pattens-tech",
            "sameAs": [
                "https://x.com/pattens-tech",
                "https://github.com/pattens-tech"
            ]
        },
        "featureList": [
            "Bulk email verification",
            "CSV file upload",
            "Real-time validation",
            "Email deliverability check",
            "Contact list verification"
        ],
        "screenshot": "/assets/screenshot.jpg"
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://email-validator.pattens.tech/"
        }]
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "PATTENS",
        "url": "https://email-validator.pattens.tech",
        "logo": "https://pattens-tech.github.io/email-validator/assets/logo.png",
        "sameAs": [
            "https://x.com/pattens-tech",
            "https://github.com/pattens-tech"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "Customer Support",
            "url": "https://github.com/pattens-tech"
        }
    }
    </script>
</head>
<body class="min-h-screen bg-slate-950 text-slate-100 antialiased flex flex-col">
    <!-- Background Effects -->
    <div class="fixed inset-0 overflow-hidden">
        <!-- Gradient Animation Background -->
        <div class="fixed inset-0 w-full h-full overflow-hidden opacity-60" style="background: linear-gradient(40deg, var(--gradient-background-start), var(--gradient-background-end));">
            <svg class="hidden">
                <defs>
                    <filter id="blurMe">
                        <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur"></feGaussianBlur>
                        <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8" result="goo"></feColorMatrix>
                        <feBlend in="SourceGraphic" in2="goo"></feBlend>
                    </filter>
                </defs>
            </svg>
            <div class="gradients-container h-full w-full blur-lg">
                <div class="absolute animate-first opacity-100" style="width: var(--size); height: var(--size); top: calc(50% - var(--size) / 2); left: calc(50% - var(--size) / 2); background: radial-gradient(circle at center, var(--first-color) 0, var(--first-color) 50%) no-repeat; mix-blend-mode: var(--blending-value); transform-origin: center center;"></div>
                <div class="absolute animate-second opacity-100" style="width: var(--size); height: var(--size); top: calc(50% - var(--size) / 2); left: calc(50% - var(--size) / 2); background: radial-gradient(circle at center, rgba(var(--second-color), 0.8) 0, rgba(var(--second-color), 0) 50%) no-repeat; mix-blend-mode: var(--blending-value); transform-origin: calc(50% - 400px);"></div>
                <div class="absolute animate-third opacity-100" style="width: var(--size); height: var(--size); top: calc(50% - var(--size) / 2); left: calc(50% - var(--size) / 2); background: radial-gradient(circle at center, rgba(var(--third-color), 0.8) 0, rgba(var(--third-color), 0) 50%) no-repeat; mix-blend-mode: var(--blending-value); transform-origin: calc(50% + 400px);"></div>
                <div class="absolute animate-fourth opacity-70" style="width: var(--size); height: var(--size); top: calc(50% - var(--size) / 2); left: calc(50% - var(--size) / 2); background: radial-gradient(circle at center, rgba(var(--fourth-color), 0.8) 0, rgba(var(--fourth-color), 0) 50%) no-repeat; mix-blend-mode: var(--blending-value); transform-origin: calc(50% - 200px);"></div>
                <div class="absolute animate-fifth opacity-100" style="width: var(--size); height: var(--size); top: calc(50% - var(--size) / 2); left: calc(50% - var(--size) / 2); background: radial-gradient(circle at center, rgba(var(--fifth-color), 0.8) 0, rgba(var(--fifth-color), 0) 50%) no-repeat; mix-blend-mode: var(--blending-value); transform-origin: calc(50% - 800px) calc(50% + 800px);"></div>
            </div>
        </div>

        <!-- Stars Background -->
        <div class="fixed inset-0 h-full w-full overflow-hidden">
            <canvas id="starsCanvas" class="h-full w-full absolute inset-0 opacity-50"></canvas>
        </div>

        <!-- Bottom Glow Effect -->
        <div class="fixed inset-0 h-full w-full overflow-hidden">
            <svg class="w-full h-full absolute inset-0 opacity-60">
                <defs>
                    <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#2EB9DF;stop-opacity:0"></stop>
                        <stop offset="100%" style="stop-color:#9E00FF;stop-opacity:1"></stop>
                    </linearGradient>
                </defs>
            </svg>
            <div class="absolute bottom-0 left-0 right-0 h-[30vh] bg-gradient-to-b from-transparent to-gray-950"></div>
            <div class="absolute bottom-0 left-1/2 -translate-x-1/2 min-w-[50em] h-[100vh] -mb-[80vh] rounded-full bg-black" style="box-shadow: inset 0 2px 20px #93c5fd, 0 -10px 50px 1px #93c5fd7d;"></div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="relative z-10 flex-1">
        <!-- Header -->
        <header class="flex items-center justify-between px-6 py-6 md:px-12">
            <a href="https://pattens.tech"><img src="assets/pattens-white.svg"  alt="Pattens Logo" width="200"></a>


            <a href="https://pattens.tech" class="flex flex-row items-center hover:opacity-80 transition-opacity">
                <div class="mr-2 h-10 w-10 flex items-center justify-center rounded-sm">
                  
                </div>
            </a>
            <div class="flex items-center gap-4">
              
                <a class="rounded-lg bg-white/95 px-4 py-2 text-sm font-semibold text-slate-900 transition duration-200 hover:bg-white" href="https://github.com/pattens-tech">View on GitHub</a>
            </div>
        </header>

        <!-- Hero Section -->
        <div id="heroSection" class="hero-section flex flex-col items-center justify-center gap-16 px-6 pb-20 pt-10 text-center min-h-[calc(100vh-88px)] transition-all duration-500">
            <section class="max-w-4xl mx-auto space-y-10">
                <h1 class="text-5xl md:text-7xl font-semibold text-white">Contact list verification</h1>
                <p class="max-w-3xl mx-auto text-xl text-slate-200/90">We'll verify your contact list to ensure all email addresses are legitimate.</p>
                <div class="flex flex-col items-center gap-4">
                    <button id="verifyNowBtn" class="inline-flex items-center justify-center gap-2 rounded-lg bg-white/95 px-7 py-3 text-base font-semibold text-slate-900 transition duration-200 hover:bg-white cursor-pointer">
                        Verify now
                        <span aria-hidden="true" class="text-lg">→</span>
                    </button>
                </div>
                <p class="text-sm text-slate-400/70 mt-4">
                    By uploading your CSV, you agree to our <button class="open-modal underline transition hover:text-white cursor-pointer">terms and privacy policy</button>.
                </p>
            </section>
        </div>

        <!-- Upload Section -->
        <div id="uploadSection" class="upload-section flex items-center justify-center min-h-[calc(100vh-88px)] p-8 transition-all duration-500">
            <div class="w-full max-w-3xl p-8 rounded-2xl border border-white/10 shadow-2xl backdrop-blur">
                <!-- Initial Upload State -->
                <div id="uploadState" class="flex items-center gap-6">
                    <div class="flex-shrink-0">
                        <img src="https://pattens-tech.github.io/email-validator/assets/upload-icon.png" alt="Upload" class="w-10">
                    </div>
                    <div id="dropZone" class="flex-1 p-8 border-2 border-dashed border-white/30 rounded-xl cursor-pointer transition-all bg-slate-800/50 hover:border-white/60 hover:bg-slate-800/70">
                        <p class="text-white text-xl text-center">Upload now</p>
                        <p class="text-gray-300 text-sm text-center mt-2">Drag & Drop a CSV of emails only</p>
                        <input type="file" id="fileInput" accept=".csv" class="hidden">
                    </div>
                </div>

                <!-- Loading State -->
                <div id="loadingState" class="hidden items-center gap-6">
                    <div class="flex-shrink-0">
                        <div class="spinner"></div>
                    </div>
                    <div class="flex-1 p-8 border-2 border-dashed border-white/30 rounded-xl bg-slate-800/50">
                        <p class="text-white text-xl text-center mb-4">
                            Validating <span id="emailCountDisplay">your emails</span>...
                        </p>
                        <div class="w-full h-2 bg-white/20 rounded-full overflow-hidden">
                            <div id="progressBar" class="h-full bg-white transition-all duration-100" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <!-- Success State -->
                <div id="successState" class="hidden items-center gap-6">
                    <div class="flex-shrink-0">
                        <img src="https://pattens-tech.github.io/email-validator/assets/list.clipboard.png" alt="Success" class="w-10">
                    </div>
                    <div class="flex-1 p-8 border-2 border-dashed border-white/30 rounded-xl text-center bg-slate-800/50">
                        <!-- Summary View (default) -->
                        <div id="summaryView">
                            <div id="resultPercentage" class="text-6xl font-bold text-white leading-none">87%</div>
                            <div class="text-slate-200/80 text-lg mt-2">Emails verified</div>
                            <div class="mt-4 text-sm text-slate-300 space-y-1 bg-slate-900/30 rounded-lg p-4">
                                <div class="flex justify-between">
                                    <span>✓ Valid emails:</span>
                                    <span id="validCount" class="font-semibold text-green-400">0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>✗ Invalid emails:</span>
                                    <span id="invalidCount" class="font-semibold text-red-400">0</span>
                                </div>
                                <div class="flex justify-between border-t border-white/10 pt-2 mt-2">
                                    <span>Total processed:</span>
                                    <span id="totalCount" class="font-semibold text-white">0</span>
                                </div>
                            </div>
                            <div class="mt-6 flex gap-3">
                                <button onclick="openPaymentModal()" class="flex-1 px-8 py-3 rounded-xl bg-blue-600 border border-blue-500 text-white font-medium transition-all hover:bg-blue-700 hover:border-blue-600 cursor-pointer">Unlock Full Report - £9.99</button>
                                <button onclick="resetForm()" class="flex-1 px-8 py-3 rounded-xl bg-white/15 border border-white/30 text-white font-medium transition-all hover:bg-white/25 hover:border-white/50 cursor-pointer">Validate another file</button>
                            </div>
                        </div>

                        <!-- Detailed View (after payment) -->
                        <div id="detailedView" class="hidden">
                            <h3 class="text-2xl font-bold text-white mb-2">Full Report</h3>
                            <p class="text-slate-300 mb-4"><span id="detailedTotalCount">0</span> emails analyzed</p>
                            
                            <!-- Email list container -->
                            <div class="bg-slate-900/30 rounded-lg p-4 max-h-96 overflow-y-auto text-left">
                                <div id="emailList" class="space-y-2">
                                    <!-- Email items will be inserted here -->
                                </div>
                            </div>

                            <!-- Action buttons -->
                            <div class="mt-6 flex gap-3">
                                <button onclick="downloadCSV()" class="flex-1 px-8 py-3 rounded-xl bg-green-600 border border-green-500 text-white font-medium transition-all hover:bg-green-700 hover:border-green-600 cursor-pointer">Download CSV</button>
                                <button onclick="resetForm()" class="flex-1 px-8 py-3 rounded-xl bg-white/15 border border-white/30 text-white font-medium transition-all hover:bg-white/25 hover:border-white/50 cursor-pointer">Validate another file</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Error State -->
                <div id="errorState" class="hidden items-center gap-6">
                    <div class="flex-shrink-0">
                        <div class="w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="15" y1="9" x2="9" y2="15"></line>
                                <line x1="9" y1="9" x2="15" y2="15"></line>
                            </svg>
                        </div>
                    </div>
                    <div class="flex-1 p-8 border-2 border-dashed border-white/30 rounded-xl text-center bg-slate-800/50">
                        <div id="errorMessage" class="text-white/90 text-lg">Error, try again.</div>
                        <button onclick="resetForm()" class="mt-6 px-8 py-3 rounded-xl bg-white/15 border border-white/30 text-white font-medium transition-all hover:bg-white/25 hover:border-white/50 cursor-pointer">Try Again</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Terms & Privacy Modal -->
        <div id="termsModal" class="modal fixed inset-0 z-[9999] overflow-hidden hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
            <div class="modal-overlay absolute inset-0 bg-black/85 backdrop-blur"></div>
            <div class="modal-container relative w-full h-full flex items-center justify-center p-4 overflow-y-auto">
                <div class="modal-content relative rounded-2xl border border-white/10 max-w-3xl w-full max-h-[90vh] overflow-hidden shadow-2xl shadow-2xl backdrop-blur" style="background: linear-gradient(135deg, rgb(15 23 42) 0%, rgb(30 41 59) 100%);">
                    <div class="flex items-center justify-between p-6 border-b border-white/10">
                        <h2 id="modalTitle" class="text-2xl font-semibold text-white">Terms & Privacy</h2>
                        <button id="closeModal" class="flex items-center justify-center w-10 h-10 rounded-lg bg-transparent border border-white/20 text-slate-300 transition-all hover:bg-white/10 hover:border-white/30 hover:text-white" aria-label="Close modal">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                    <div class="p-6 overflow-y-auto max-h-[calc(90vh-5rem)] text-slate-200">
                        <h3 class="text-lg font-semibold text-white mb-3">Terms & Conditions</h3>
                        <p class="leading-relaxed mb-4 text-slate-300">
                            
Effective Date: 29-10-2025
</p>
1. Introduction
</p>
Welcome to Pattens. By accessing or using this website, you agree to comply with and be bound by these Terms of Use.
If you do not agree, you must not use this site.
</p>
2. Use of the Service
</p>
Our service provides contact list verification, checking whether email addresses appear to be legitimate.
You agree to use the service only for lawful purposes and in a way that does not infringe the rights of others or restrict their use of the site.
</p>
3. Data Ownership and Responsibility
</p>
You must only upload or enter data that you own or have explicit permission to use.
You are fully responsible for ensuring that your use of the service complies with all applicable laws, including data protection and privacy regulations.
</p>
4. Accuracy and Limitations
</p>
We make reasonable efforts to ensure the service functions correctly, but we do not guarantee:
	•	that any email address verified is active, valid, or in use;
	•	that the service will be error-free or continuously available.
</p>
All use of the service is at your own risk.
</p>
5. Liability
</p>
Pattens accepts no liability for any loss, damage, or data issues resulting from the use or misuse of this website.
This includes, without limitation, indirect or consequential losses such as loss of data, business, or reputation.
</p>
6. Changes to Terms
</p>
We may update these Terms of Use at any time. The updated version will take effect immediately upon publication on this page.
</p>
7. Governing Law
</p>
These Terms are governed by and interpreted in accordance with the laws of England and Wales.
Any disputes will be subject to the exclusive jurisdiction of the courts of England and Wales.

</p>

                        <h3 class="text-lg font-semibold text-white mt-6 mb-3">Privacy Policy</h3>


                        <p class="leading-relaxed mb-4 text-slate-300">
                            
Effective Date: 29-10-2025
</p>
1. Introduction
</p>
Pattens respects your privacy and is committed to protecting your personal data in accordance with the UK General Data Protection Regulation (UK GDPR) and the Data Protection Act 2018.
</p>
2. Data We Handle
</p>
Our service checks whether email addresses appear to be legitimate.
We do not store, sell, or share any email addresses or other uploaded data after verification is complete.
</p>
3. Cookies and Tracking
</p>
This website uses cookies for analytics and anonymized user experience improvement.
</p>
4. Third Parties
</p>
We do not share data with third parties, except where required by law or a valid legal request.
</p>
5. Your Data Rights
</p>
Under UK data protection law, you have the right to:
	•	request information about how your data is processed,
	•	request correction or deletion of any personal data (where applicable),
	•	lodge a complaint with the Information Commissioner’s Office (ICO) if you believe your data has been mishandled.
</p>
For any privacy-related queries, contact: hello@pattens.tech
</p>
6. Data Retention
</p>
No uploaded or verified data is stored beyond the duration of the verification process.
All other data is deleted immediately after the check is complete.
</p>
7. Policy Updates
</p>
We may occasionally update this Privacy Policy to reflect operational, legal, or regulatory changes.
Any updates will appear on this page with a revised effective date.

                        
                        </p>

                     
                        
                    </div>
                </div>
            </div>
        </div>

        <!-- Payment Modal -->
        <div id="paymentModal" class="modal fixed inset-0 z-[9999] overflow-hidden hidden" role="dialog" aria-modal="true" aria-labelledby="paymentModalTitle">
            <div class="modal-overlay absolute inset-0 bg-black/85 backdrop-blur"></div>
            <div class="modal-container relative w-full h-full flex items-center justify-center p-4">
                <div class="modal-content relative rounded-2xl border border-white/10 max-w-md w-full overflow-hidden shadow-2xl backdrop-blur" style="background: linear-gradient(135deg, rgb(15 23 42) 0%, rgb(30 41 59) 100%);">
                    <div class="flex items-center justify-between p-6 border-b border-white/10">
                        <h2 id="paymentModalTitle" class="text-2xl font-semibold text-white">Unlock Full Report</h2>
                        <button id="closePaymentModal" class="flex items-center justify-center w-10 h-10 rounded-lg bg-transparent border border-white/20 text-slate-300 transition-all hover:bg-white/10 hover:border-white/30 hover:text-white" aria-label="Close payment modal">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                    <div class="p-6">
                        <p class="text-slate-300 mb-6">Get access to the full detailed report with all email addresses and their validation status, plus CSV download.</p>
                        
                        <!-- Price display -->
                        <div class="mb-6 p-4 rounded-lg bg-white/5 border border-white/10">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Full Report Access</span>
                                <span class="text-2xl font-bold text-white">£9.99</span>
                            </div>
                        </div>
                        
                        <!-- Loading state -->
                        <div id="paymentLoading" class="hidden text-center py-8">
                            <div class="inline-block w-8 h-8 border-4 border-white/20 border-t-white rounded-full animate-spin"></div>
                            <p class="text-white mt-4">Preparing checkout...</p>
                        </div>
                        
                        <!-- Payment form -->
                        <form id="paymentForm" class="hidden">
                            <!-- Payment Element container -->
                            <div id="paymentElement" class="mb-4"></div>
                            
                            <!-- Submit button -->
                            <button id="submitPayment" type="submit" class="w-full px-6 py-3 rounded-lg font-semibold text-white transition-all bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed">
                                <span id="buttonText">Pay £9.99</span>
                                <span id="buttonSpinner" class="hidden inline-block w-4 h-4 ml-2 border-2 border-white/30 border-t-white rounded-full animate-spin"></span>
                            </button>
                        </form>
                        
                        <!-- Error message -->
                        <div id="paymentError" class="hidden text-red-400 text-sm p-3 bg-red-900/20 border border-red-500/30 rounded-lg mb-4"></div>
                        
                        <!-- Success message -->
                        <div id="paymentSuccess" class="hidden text-center py-8">
                            <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-500/20 border-2 border-green-500 mb-4">
                                <svg class="w-8 h-8 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold text-white mb-2">Payment Successful!</h3>
                            <p class="text-slate-300 mb-4">Your full report is now available.</p>
                            <button id="viewReportBtn" class="px-6 py-2 rounded-lg font-semibold text-white bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700">
                                View Full Report
                            </button>
                        </div>
                        
                        <p class="text-xs text-slate-400 text-center mt-4">Secure payment powered by Stripe</p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="relative z-10 mt-auto border-t border-white/10 px-6 py-6 text-center text-slate-400/70 md:px-12">
        <a href="https://pattens.tech" class="text-slate-300 transition hover:text-white">
            Powered by 
            <span class="underline">Pattens</span>
            : Built by AI
        </a>
    </footer>
    <!-- Stars Animation Script -->
    <script>
        const canvas = document.getElementById('starsCanvas');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        class Star {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2;
                this.speedX = (Math.random() - 0.5) * 0.5;
                this.speedY = (Math.random() - 0.5) * 0.5;
                this.opacity = Math.random();
                this.fadeSpeed = (Math.random() - 0.5) * 0.01;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;

                if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
                if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;

                this.opacity += this.fadeSpeed;
                if (this.opacity <= 0 || this.opacity >= 1) this.fadeSpeed *= -1;
            }

            draw() {
                ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        const stars = [];
        for (let i = 0; i < 150; i++) {
            stars.push(new Star());
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            stars.forEach(star => {
                star.update();
                star.draw();
            });
            requestAnimationFrame(animate);
        }

        animate();
    </script>

    <!-- Hero to Upload Transition Script -->
    <script>
        const heroSection = document.getElementById('heroSection');
        const uploadSection = document.getElementById('uploadSection');
        const verifyNowBtn = document.getElementById('verifyNowBtn');

        verifyNowBtn.addEventListener('click', () => {
            heroSection.classList.add('hiding');
            setTimeout(() => {
                heroSection.style.display = 'none';
                uploadSection.classList.add('visible');
            }, 500);
        });
    </script>

    <!-- File Upload Script -->
    <script>
        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('fileInput');
        const uploadState = document.getElementById('uploadState');
        const loadingState = document.getElementById('loadingState');
        const successState = document.getElementById('successState');
        const errorState = document.getElementById('errorState');

        dropZone.addEventListener('click', () => fileInput.click());

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) handleFile(file);
        });

        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('border-blue-400', 'bg-blue-900/10', 'scale-105');
        });

        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('border-blue-400', 'bg-blue-900/10', 'scale-105');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('border-blue-400', 'bg-blue-900/10', 'scale-105');
            const file = e.dataTransfer.files[0];
            if (file) handleFile(file);
        });

        async function handleFile(file) {
            if (!file.name.endsWith('.csv')) {
                showError('Please upload a valid CSV file');
                return;
            }

            uploadState.classList.add('hidden');
            loadingState.classList.remove('hidden');
            loadingState.classList.add('flex');

            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = '0%';
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 100 / 30;
                progressBar.style.width = Math.min(progress, 100) + '%';
                if (progress >= 100) clearInterval(progressInterval);
            }, 100);

            const formData = new FormData();
            formData.append('file', file);

            try {
                const response = await fetch('https://email-validator.pattens.tech/api/validate-csv', {
                    method: 'POST',
                    body: formData
                });

                const contentType = response.headers.get('content-type');
                if (!contentType || !contentType.includes('application/json')) {
                    const text = await response.text();
                    console.error('Non-JSON response:', text.substring(0, 200));
                    throw new Error('Server error. Please try again.');
                }

                const data = await response.json();
                if (!response.ok) throw new Error(data.error || 'Validation failed');

                showSuccess(data);
            } catch (error) {
                console.error('Error:', error);
                
                // Track errors with Vercel Analytics
                if (window.va) {
                    window.va('track', 'Validation Error', {
                        error: error.message || 'Unknown error'
                    });
                }
                
                showError(error.message || 'Error, try again.');
            }
        }

        function showSuccess(data) {
            loadingState.classList.add('hidden');
            loadingState.classList.remove('flex');
            successState.classList.remove('hidden');
            successState.classList.add('flex');
            
            // Update percentage
            document.getElementById('resultPercentage').textContent = Math.round(data.percentage) + '%';
            
            // Update detailed counts
            document.getElementById('validCount').textContent = data.valid || 0;
            document.getElementById('invalidCount').textContent = data.invalid || 0;
            document.getElementById('totalCount').textContent = data.total || 0;
            
            // Store email results in sessionStorage for payment flow
            if (data.emails && data.emails.length > 0) {
                sessionStorage.setItem('validationResults', JSON.stringify(data.emails));
            }
            
            // Track success with Vercel Analytics
            if (window.va) {
                window.va('track', 'Validation Success', {
                    total: data.total,
                    valid: data.valid,
                    invalid: data.invalid,
                    percentage: Math.round(data.percentage)
                });
            }
        }

        function showError(message) {
            uploadState.classList.add('hidden');
            loadingState.classList.add('hidden');
            loadingState.classList.remove('flex');
            errorState.classList.remove('hidden');
            errorState.classList.add('flex');
            document.getElementById('errorMessage').textContent = message;
        }

        function resetForm() {
            errorState.classList.add('hidden');
            errorState.classList.remove('flex');
            successState.classList.add('hidden');
            successState.classList.remove('flex');
            uploadState.classList.remove('hidden');
            fileInput.value = '';
            // Clear stored validation results
            sessionStorage.removeItem('validationResults');
        }

    </script>

    <!-- Payment Integration Script -->
    <script>
        // Initialize Stripe
        const stripe = Stripe('pk_test_51SNjUMCmTraQU9pzceHJC3Tx61bc1dUt6pfa3HiLsJgneB78gaPXmSX2Gq00YXf2NtuQFvCGsyP36jKqlWKvlPLl00tXTmiXPO');
        
        const paymentModal = document.getElementById('paymentModal');
        const closePaymentModalBtn = document.getElementById('closePaymentModal');
        const paymentLoading = document.getElementById('paymentLoading');
        const paymentError = document.getElementById('paymentError');
        const paymentForm = document.getElementById('paymentForm');
        const paymentSuccess = document.getElementById('paymentSuccess');
        const submitPaymentBtn = document.getElementById('submitPayment');
        const buttonText = document.getElementById('buttonText');
        const buttonSpinner = document.getElementById('buttonSpinner');
        const viewReportBtn = document.getElementById('viewReportBtn');

        let elements;
        let paymentElement;

        async function openPaymentModal() {
            // Get stored validation results
            const resultsJson = sessionStorage.getItem('validationResults');
            if (!resultsJson) {
                alert('No validation results found. Please validate emails first.');
                return;
            }

            let emails;
            try {
                emails = JSON.parse(resultsJson);
            } catch (e) {
                alert('Error loading validation results. Please try again.');
                return;
            }

            // Show modal and loading state
            paymentModal.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
            paymentLoading.classList.remove('hidden');
            paymentError.classList.add('hidden');
            paymentForm.classList.add('hidden');
            paymentSuccess.classList.add('hidden');

            try {
                // Create payment intent
                const response = await fetch('/api/create-payment-intent', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ emails }),
                });

                if (!response.ok) {
                    const error = await response.json();
                    throw new Error(error.error || 'Failed to create payment intent');
                }

                const { clientSecret } = await response.json();

                // Initialize Stripe Elements with custom styling
                const appearance = {
                    theme: 'night',
                    variables: {
                        colorPrimary: '#3b82f6',
                        colorBackground: '#0f172a',
                        colorText: '#e2e8f0',
                        colorDanger: '#ef4444',
                        fontFamily: 'system-ui, sans-serif',
                        spacingUnit: '4px',
                        borderRadius: '8px',
                    },
                    rules: {
                        '.Input': {
                            backgroundColor: 'rgba(255, 255, 255, 0.05)',
                            border: '1px solid rgba(255, 255, 255, 0.1)',
                            boxShadow: 'none',
                        },
                        '.Input:focus': {
                            border: '1px solid #3b82f6',
                            boxShadow: '0 0 0 1px #3b82f6',
                        },
                        '.Label': {
                            color: '#cbd5e1',
                            fontWeight: '500',
                        },
                    }
                };

                elements = stripe.elements({ clientSecret, appearance });
                paymentElement = elements.create('payment');
                paymentElement.mount('#paymentElement');

                // Hide loading and show form
                paymentLoading.classList.add('hidden');
                paymentForm.classList.remove('hidden');

            } catch (error) {
                console.error('Payment error:', error);
                paymentLoading.classList.add('hidden');
                paymentError.textContent = error.message || 'An error occurred. Please try again.';
                paymentError.classList.remove('hidden');

                // Track error with Vercel Analytics
                if (window.va) {
                    window.va('track', 'Payment Error', {
                        error: error.message || 'Unknown error'
                    });
                }
            }
        }

        async function handleSubmit(e) {
            e.preventDefault();

            if (!stripe || !elements) {
                return;
            }

            // Disable submit button
            submitPaymentBtn.disabled = true;
            buttonText.classList.add('hidden');
            buttonSpinner.classList.remove('hidden');
            paymentError.classList.add('hidden');

            try {
                const { error, paymentIntent } = await stripe.confirmPayment({
                    elements,
                    confirmParams: {
                        return_url: window.location.origin + '/?payment=success',
                    },
                    redirect: 'if_required',
                });

                if (error) {
                    // Payment failed
                    paymentError.textContent = error.message;
                    paymentError.classList.remove('hidden');

                    // Track error with Vercel Analytics
                    if (window.va) {
                        window.va('track', 'Payment Failed', {
                            error: error.message
                        });
                    }
                } else if (paymentIntent && paymentIntent.status === 'succeeded') {
                    // Payment succeeded
                    paymentForm.classList.add('hidden');
                    paymentSuccess.classList.remove('hidden');

                    // Track success with Vercel Analytics
                    if (window.va) {
                        window.va('track', 'Payment Success', {
                            amount: 9.99
                        });
                    }
                }
            } catch (err) {
                console.error('Payment error:', err);
                paymentError.textContent = 'An unexpected error occurred. Please try again.';
                paymentError.classList.remove('hidden');
            } finally {
                // Re-enable submit button
                submitPaymentBtn.disabled = false;
                buttonText.classList.remove('hidden');
                buttonSpinner.classList.add('hidden');
            }
        }

        paymentForm.addEventListener('submit', handleSubmit);

        viewReportBtn.addEventListener('click', () => {
            closePaymentModal();
            // Trigger showing detailed results
            showDetailedResults();
        });

        function closePaymentModal() {
            paymentModal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
            paymentError.classList.add('hidden');
            paymentForm.classList.add('hidden');
            paymentSuccess.classList.add('hidden');
            
            // Clean up Stripe elements
            if (paymentElement) {
                paymentElement.unmount();
                paymentElement = null;
            }
            if (elements) {
                elements = null;
            }
        }

        closePaymentModalBtn.addEventListener('click', closePaymentModal);

        // Close modal on overlay click
        paymentModal.querySelector('.modal-overlay').addEventListener('click', closePaymentModal);

        // Prevent modal content clicks from closing modal
        paymentModal.querySelector('.modal-content').addEventListener('click', (e) => e.stopPropagation());

        // Close on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !paymentModal.classList.contains('hidden')) {
                closePaymentModal();
            }
        });

        // Function to show detailed report
        function showDetailedReport(emails) {
            if (!emails || !Array.isArray(emails) || emails.length === 0) {
                console.error('No emails to display');
                return;
            }

            // Hide summary view, show detailed view
            document.getElementById('summaryView').classList.add('hidden');
            document.getElementById('detailedView').classList.remove('hidden');

            // Update total count
            document.getElementById('detailedTotalCount').textContent = emails.length;

            // Populate email list
            const emailList = document.getElementById('emailList');
            emailList.innerHTML = '';

            emails.forEach(item => {
                const row = document.createElement('div');
                row.className = 'flex items-center justify-between p-3 bg-slate-800/50 rounded-lg hover:bg-slate-700/50 transition-colors';
                
                const emailSpan = document.createElement('span');
                emailSpan.className = 'text-slate-200 truncate flex-1 mr-4 text-sm';
                emailSpan.textContent = item.email;
                emailSpan.title = item.email; // Show full email on hover
                
                const badge = document.createElement('span');
                badge.className = `px-3 py-1 rounded-full text-xs font-semibold flex-shrink-0 ${
                    item.status === 'Valid' 
                        ? 'bg-green-500/20 text-green-400 border border-green-500/30' 
                        : 'bg-red-500/20 text-red-400 border border-red-500/30'
                }`;
                badge.textContent = item.status;
                
                row.appendChild(emailSpan);
                row.appendChild(badge);
                emailList.appendChild(row);
            });

            // Show success state if not already visible
            uploadState.classList.add('hidden');
            loadingState.classList.add('hidden');
            loadingState.classList.remove('flex');
            errorState.classList.add('hidden');
            errorState.classList.remove('flex');
            successState.classList.remove('hidden');
            successState.classList.add('flex');

            // Track with Vercel Analytics
            if (window.va) {
                window.va('track', 'Full Report Unlocked', {
                    emailCount: emails.length
                });
            }
        }

        // Check for session_id parameter on page load (payment success)
        window.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const sessionId = urlParams.get('session_id');

            if (sessionId) {
                // Payment was successful, get stored results
                const resultsJson = sessionStorage.getItem('validationResults');
                
                if (resultsJson) {
                    try {
                        const emails = JSON.parse(resultsJson);
                        showDetailedReport(emails);
                        
                        // Clean up URL (remove session_id parameter)
                        window.history.replaceState({}, document.title, window.location.pathname);
                    } catch (e) {
                        console.error('Error loading validation results:', e);
                    }
                } else {
                    console.log('Payment successful but no validation results found');
                }
            }
        });

        // Function to download CSV
        function downloadCSV() {
            const resultsJson = sessionStorage.getItem('validationResults');
            
            if (!resultsJson) {
                alert('No validation results found');
                return;
            }

            try {
                const emails = JSON.parse(resultsJson);
                
                if (!Array.isArray(emails) || emails.length === 0) {
                    alert('No emails to export');
                    return;
                }

                // Helper function to escape CSV fields
                function escapeCSVField(field) {
                    if (field == null) return '';
                    
                    const str = String(field);
                    
                    // If field contains comma, quote, or newline, wrap in quotes and escape quotes
                    if (str.includes(',') || str.includes('"') || str.includes('\n') || str.includes('\r')) {
                        return '"' + str.replace(/"/g, '""') + '"';
                    }
                    
                    return str;
                }

                // Build CSV content
                let csvContent = 'Email,Status\n';
                
                emails.forEach(item => {
                    const email = escapeCSVField(item.email);
                    const status = escapeCSVField(item.status);
                    csvContent += `${email},${status}\n`;
                });

                // Create blob and download
                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                
                // Generate filename with timestamp
                const timestamp = new Date().toISOString().split('T')[0]; // YYYY-MM-DD
                const filename = `email-report-${timestamp}.csv`;
                
                // Create download link
                const url = URL.createObjectURL(blob);
                link.setAttribute('href', url);
                link.setAttribute('download', filename);
                link.style.visibility = 'hidden';
                
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                // Clean up object URL
                URL.revokeObjectURL(url);

                // Track with Vercel Analytics
                if (window.va) {
                    window.va('track', 'CSV Downloaded', {
                        emailCount: emails.length
                    });
                }
            } catch (e) {
                console.error('Error downloading CSV:', e);
                alert('Error downloading CSV. Please try again.');
            }
        }
    </script>

    <!-- Modal Script -->
    <script>
        const modal = document.getElementById('termsModal');
        const openModalBtns = document.querySelectorAll('.open-modal');
        const closeModalBtn = document.getElementById('closeModal');
        const modalOverlay = document.querySelector('.modal-overlay');

        let previousActiveElement;

        function openModal() {
            previousActiveElement = document.activeElement;
            modal.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
            setTimeout(() => closeModalBtn.focus(), 100);
        }

        function closeModal() {
            modal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
            if (previousActiveElement) previousActiveElement.focus();
        }

        openModalBtns.forEach(btn => btn.addEventListener('click', openModal));
        closeModalBtn.addEventListener('click', closeModal);
        modalOverlay.addEventListener('click', closeModal);

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) closeModal();
        });

        modal.addEventListener('keydown', (e) => {
            if (e.key === 'Tab') {
                const focusableElements = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
                const firstElement = focusableElements[0];
                const lastElement = focusableElements[focusableElements.length - 1];

                if (e.shiftKey && document.activeElement === firstElement) {
                    e.preventDefault();
                    lastElement.focus();
                } else if (!e.shiftKey && document.activeElement === lastElement) {
                    e.preventDefault();
                    firstElement.focus();
                }
            }
        });

        document.querySelector('.modal-content').addEventListener('click', (e) => e.stopPropagation());
    </script>

    <!-- Vercel Analytics -->
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
  
</body>

</html>
